0-0. MYSQL

### DATE_FORMAT 하기

```
SELECT ANIMAL_ID,NAME,DATE_FORMAT(DATETIME,'%Y-%m-%d')as 날짜
from ANIMAL_INS
order by ANIMAL_ID
```

### DATETIME으로 되어있는 시간을 HOUR로 만들어서 시간별 group by 그리고 having

```
SELECT HOUR(DATETIME) as HOUR, count(*)
from ANIMAL_OUTS
group by HOUR(DATETIME)
having HOUR > 8 and HOUR < 20
order by HOUR(DATETIME)
```

### 로컬 변수를 활용

```
set @hour := -1;
SELECT (@hour := @hour + 1) as HOUR , (SELECT count(*) from ANIMAL_OUTS where HOUR(DATETIME)=@hour) as COUNT
from ANIMAL_OUTS
where @hour < 23
order by @hour
```

### join

```
SELECT o.ANIMAL_ID, o.NAME
FROM ANIMAL_INS as i
join ANIMAL_OUTS as o on i.ANIMAL_ID = o.ANIMAL_ID
where i.DATETIME > o.DATETIME
order by i.DATETIME
```

### left join
```
select i.NAME	,i.DATETIME
from ANIMAL_INS as i left join ANIMAL_OUTS as o on i.ANIMAL_ID = o.ANIMAL_ID
where o.DATETIME is null
order by i.DATETIME
limit 3
```